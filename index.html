<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Gentle Space üåô</title>

<style>
/* === YOUR ORIGINAL CSS (UNCHANGED) === */
:root{
  --bg:#05060c;
  --glass:rgba(255,255,255,.08);
  --accent:#7aa2ff;
  --accent2:#ff7aa8;
  --text:#eef0ff;
  --muted:#a9acc7;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,system-ui,sans-serif;}
body{
  background:radial-gradient(600px 300px at top,#1b2158,transparent),var(--bg);
  color:var(--text);
  overflow:hidden;
}
.nav{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;gap:10px;z-index:1000;}
.nav button{padding:10px 18px;border-radius:999px;background:var(--glass);backdrop-filter:blur(10px);color:white;font-size:14px;}
#fsBtn{position:fixed;top:12px;right:12px;width:46px;height:46px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));color:white;font-size:18px;display:flex;align-items:center;justify-content:center;z-index:1000;}
.container{display:flex;width:100%;height:100dvh;transition:transform .45s ease;}
.page{flex:0 0 100%;height:100dvh;padding:90px 18px 40px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:var(--glass);backdrop-filter:blur(18px);}
h1{font-size:clamp(1.5rem,6vw,2.2rem);text-align:center;}
p{text-align:center;color:var(--muted);max-width:360px;}
input,textarea,select{width:100%;max-width:340px;padding:14px 18px;border-radius:18px;border:none;outline:none;background:rgba(255,255,255,.15);color:white;font-size:16px;}
textarea{min-height:160px;resize:none;}
button{border:none;cursor:pointer;font-weight:600;}
ul{list-style:none;width:100%;max-width:340px;}
li{background:rgba(255,255,255,.18);padding:12px 14px;border-radius:16px;margin:8px 0;display:flex;justify-content:space-between;align-items:center;gap:6px;}
li.done{text-decoration:line-through;opacity:.6;}
.time{font-size:clamp(2.2rem,8vw,3rem);}
.timer-controls{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;}
.timer-controls button{padding:12px 24px;border-radius:999px;background:linear-gradient(135deg,var(--accent),var(--accent2));color:white;}
@media(min-width:768px){.page{padding:110px 60px}}
</style>
</head>

<body>

<div class="nav">
  <button onclick="prev()">‚Üê</button>
  <button onclick="next()">‚Üí</button>
</div>

<button id="fsBtn">‚õ∂</button>

<div class="container" id="slider">

<section class="page"><h1>You‚Äôre doing enough üåô</h1><p>Slow down. One step is enough.</p></section>

<section class="page">
  <h1>Todo ‚ú®</h1>
  <input id="todoInput" placeholder="Write something‚Ä¶" />
  <button onclick="addTodo()">Add</button>
  <ul id="todoList"></ul>
</section>

<section class="page">
  <h1>Timer ‚è±Ô∏è</h1>
  <select id="timerType" onchange="switchTimer()">
    <option value="stopwatch">Stopwatch</option>
    <option value="pomodoro">Pomodoro</option>
  </select>

  <div id="stopwatchDiv">
    <div class="time" id="swTime">00:00</div>
    <div class="timer-controls">
      <button onclick="swStart()">Start</button>
      <button onclick="swStop()">Stop</button>
      <button onclick="swReset()">Reset</button>
    </div>
  </div>

  <div id="pomodoroDiv" style="display:none">
    <input id="pmInput" type="number" min="1" placeholder="Minutes (eg 25)" />
    <div class="time" id="pmTime">00:00</div>
    <div class="timer-controls">
      <button onclick="pmStart()">Start</button>
      <button onclick="pmStop()">Stop</button>
      <button onclick="pmReset()">Reset</button>
    </div>
  </div>
</section>

<section class="page">
  <h1>Notes üìù</h1>
  <textarea id="notes" placeholder="Write freely‚Ä¶"></textarea>
</section>

<section class="page"><h1>Enough for today ü§ç</h1><p>You showed up. That counts.</p></section>

</div>

<script>
/* ===== PERSISTENT STORAGE ===== */
const save = () => localStorage.setItem("gentleSpace", JSON.stringify({
  index, todos, notes: notes.value, sw, pm, timerType: timerType.value
}));

const load = () => {
  const d = JSON.parse(localStorage.getItem("gentleSpace") || "{}");
  index = d.index || 0;
  sw = d.sw || 0;
  pm = d.pm || 0;
  timerType.value = d.timerType || "stopwatch";
  notes.value = d.notes || "";
  todos = d.todos || [];
  renderTodos();
  switchTimer();
  renderSW();
  renderPM();
  update();
};

/* ---------- SLIDER ---------- */
let index = 0;
const slider = document.getElementById("slider");
function update(){ slider.style.transform = `translateX(-${index*100}%)`; save(); }
function next(){ if(index<4){index++;update();} }
function prev(){ if(index>0){index--;update();} }

/* ---------- TODO ---------- */
let todos=[];
function renderTodos(){
  todoList.innerHTML="";
  todos.forEach((t,i)=>{
    const li=document.createElement("li");
    if(t.done) li.classList.add("done");
    li.innerHTML=`<span>${t.text}</span><button>‚úèÔ∏è</button><button>‚ùå</button>`;
    li.children[0].onclick=()=>{t.done=!t.done;renderTodos();save();}
    li.children[1].onclick=()=>{const x=prompt("Edit",t.text);if(x){t.text=x;renderTodos();save();}}
    li.children[2].onclick=()=>{todos.splice(i,1);renderTodos();save();}
    todoList.appendChild(li);
  });
}
function addTodo(){
  if(!todoInput.value) return;
  todos.push({text:todoInput.value,done:false});
  todoInput.value="";
  renderTodos(); save();
}

/* ---------- TIMER ---------- */
let sw=0,swTimer=null;
function swStart(){ if(!swTimer) swTimer=setInterval(()=>{sw++;renderSW();save();},1000); }
function swStop(){ clearInterval(swTimer); swTimer=null; }
function swReset(){ swStop(); sw=0; renderSW(); save(); }
function renderSW(){ swTime.textContent=String(Math.floor(sw/60)).padStart(2,"0")+":"+String(sw%60).padStart(2,"0"); }

let pm=0,pmTimer=null;
function pmStart(){
  if(pmTimer) return;
  if(pm<=0) pm=(+pmInput.value||0)*60;
  if(pm<=0) return alert("Enter minutes");
  pmTimer=setInterval(()=>{pm--;renderPM();save();if(pm<=0) pmStop();},1000);
}
function pmStop(){ clearInterval(pmTimer); pmTimer=null; }
function pmReset(){ pmStop(); pm=0; renderPM(); save(); }
function renderPM(){ pmTime.textContent=String(Math.floor(pm/60)).padStart(2,"0")+":"+String(pm%60).padStart(2,"0"); }

function switchTimer(){
  stopwatchDiv.style.display=timerType.value==="stopwatch"?"block":"none";
  pomodoroDiv.style.display=timerType.value==="pomodoro"?"block":"none";
  save();
}

notes.addEventListener("input",save);
window.addEventListener("load",load);
</script>

</body>
</html>
