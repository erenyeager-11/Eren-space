<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Gentle Space üåô</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b0d18">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  -webkit-tap-highlight-color:transparent;
}

body{
  min-height:100svh;
  overflow-x:hidden;
  background:
    radial-gradient(circle at 20% 10%,rgba(120,120,255,.12),transparent 40%),
    radial-gradient(circle at 80% 80%,rgba(255,120,200,.08),transparent 40%),
    #0b0d18;
  color:#fff;
}

button{
  border:none;
  cursor:pointer;
  font-weight:600;
  background:linear-gradient(135deg,#6a5acd,#00bfff);
  color:white;
  padding:10px 18px;
  border-radius:25px;
}

input,textarea,select{
  border:none;
  outline:none;
  background:rgba(255,255,255,.12);
  color:white;
  padding:12px;
  border-radius:18px;
  font-size:15px;
}

.container{
  width:500vw;
  display:flex;
  transition:transform .5s ease;
}

.page{
  width:100vw;
  min-height:100svh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:15px;
  padding:90px 20px 40px;
  backdrop-filter:blur(16px);
}

h1{text-align:center;font-size:2rem}
p{text-align:center;opacity:.75}

.nav{
  position:fixed;
  top:14px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:10px;
  z-index:1000;
}

#fsBtn,#focusBtn{
  position:fixed;
  top:14px;
  right:14px;
  padding:8px 14px;
  border-radius:16px;
  font-size:.85rem;
}

#focusBtn{
  right:110px;
  background:linear-gradient(135deg,#ff7f50,#ff1493);
}

ul{list-style:none;width:260px}
li{
  background:rgba(255,255,255,.12);
  padding:10px 14px;
  border-radius:18px;
  margin:8px 0;
  display:flex;
  justify-content:space-between;
  gap:6px;
}
li.done{text-decoration:line-through;opacity:.6}

.time{font-size:2.6rem;font-weight:600}

.timer-controls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
}

@media(max-width:768px){
  h1{font-size:1.6rem}
  input,textarea,select{width:100%;max-width:320px}
  textarea{min-height:150px}
}
</style>
</head>

<body>

<div class="nav" id="nav">
  <button onclick="prev()">‚Üê Back</button>
  <button onclick="next()">Next ‚Üí</button>
</div>

<button id="focusBtn">Focus</button>
<button id="fsBtn">Fullscreen</button>

<div class="container" id="slider">

<section class="page">
  <h1>You‚Äôre doing enough üåô</h1>
  <p>Slow down. One step is enough.</p>
</section>

<section class="page">
  <h1>Todo ‚ú®</h1>
  <input id="todoInput" placeholder="Write something‚Ä¶">
  <button onclick="addTodo()">Add</button>
  <ul id="todoList"></ul>
</section>

<section class="page">
  <h1>Timer ‚è±Ô∏è</h1>
  <div class="time" id="swTime">00:00</div>
  <div class="timer-controls">
    <button onclick="swStart()">Start</button>
    <button onclick="swStop()">Stop</button>
    <button onclick="swReset()">Reset</button>
  </div>
</section>

<section class="page">
  <h1>Notes üìù</h1>
  <textarea id="notes" placeholder="Write freely‚Ä¶"></textarea>
</section>

<section class="page">
  <h1>Enough for today ü§ç</h1>
  <p>You showed up. That counts.</p>
  <p style="opacity:.5">‚Äî by Eren</p>
</section>

</div>

<script>
let index=0,focus=false;
const slider=document.getElementById("slider");
const nav=document.getElementById("nav");

function update(){slider.style.transform=`translateX(-${index*100}vw)`;}
function next(){if(!focus&&index<4){index++;update();save();}}
function prev(){if(!focus&&index>0){index--;update();save();}}

fsBtn.onclick=()=>!document.fullscreenElement?
document.documentElement.requestFullscreen():document.exitFullscreen();

focusBtn.onclick=()=>{
  if(!focus && confirm("Lock into focus mode?")){
    focus=true;
    nav.style.display="none";
    focusBtn.textContent="Focused";
    document.body.style.overflow="hidden";
  }
};

const todoInput=document.getElementById("todoInput");
const todoList=document.getElementById("todoList");

function addTodo(){
  if(!todoInput.value)return;
  const li=document.createElement("li");
  li.innerHTML=`<span>${todoInput.value}</span><button>‚ùå</button>`;
  li.onclick=()=>{li.classList.toggle("done");save();}
  li.querySelector("button").onclick=e=>{e.stopPropagation();li.remove();save();}
  todoList.appendChild(li);
  todoInput.value="";
  save();
}

let sw=0,timer=null;
function swStart(){if(!timer)timer=setInterval(()=>{sw++;render();save();},1000);}
function swStop(){clearInterval(timer);timer=null;}
function swReset(){swStop();sw=0;render();save();}
function render(){
  swTime.textContent=
  String(Math.floor(sw/60)).padStart(2,"0")+":"+
  String(sw%60).padStart(2,"0");
}

function save(){
  const todos=[...todoList.children].map(li=>({
    t:li.querySelector("span").textContent,
    d:li.classList.contains("done")
  }));
  localStorage.setItem("gs",JSON.stringify({index,sw,notes:notes.value,todos}));
}

onload=()=>{
  const d=JSON.parse(localStorage.getItem("gs")||"{}");
  index=d.index||0;update();
  sw=d.sw||0;render();
  notes.value=d.notes||"";
  (d.todos||[]).forEach(x=>{
    const li=document.createElement("li");
    li.innerHTML=`<span>${x.t}</span><button>‚ùå</button>`;
    if(x.d)li.classList.add("done");
    li.onclick=()=>{li.classList.toggle("done");save();}
    li.querySelector("button").onclick=e=>{e.stopPropagation();li.remove();save();}
    todoList.appendChild(li);
  });
};

// service worker
if("serviceWorker"in navigator){
  navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
